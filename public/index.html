<!DOCTYPE html>
<!-- saved from url=(0042)http://getbootstrap.com/examples/carousel/ -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <meta name="description" content="">
  <meta name="author" content="">
  <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet'>
  <link rel="icon" href="https://assets.filestackapi.com/web/c3417dc/img/favicon.ico">
  <title>Posterstack</title>
  <!-- Bootstrap core CSS -->
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
  <!-- Custom styles for this template -->
  <link href="./css/carousel.css" rel="stylesheet">
  <link href="./css/main.css" rel="stylesheet">
</head>
<!-- NAVBAR
================================================== -->
<body>
  <div class="navbar-wrapper">
    <div class="container">
      <nav class="navbar navbar-inverse navbar-static-top">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://getbootstrap.com/examples/carousel/#">Posterstack</a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
              <li><a href="https://www.filestack.com/docs/image-transformations/collage" target="_blank">About</a></li>
              <li><a href="https://blog.filestack.com/" target="_blank">Blog</a></li>
            </ul>
          </div>
        </div>
      </nav>
    </div>
  </div>
  <!-- Carousel
  ================================================== -->
  <div id="myCarousel" class="carousel slide" data-ride="carousel">
    <!-- Indicators -->
    <ol class="carousel-indicators">
      <li data-target="#myCarousel" data-slide-to="0" class=""></li>
      <li data-target="#myCarousel" data-slide-to="1" class="active"></li>
      <li data-target="#myCarousel" data-slide-to="2" class=""></li>
    </ol>
    <div class="carousel-inner" role="listbox">
      <div class="item">
        <img class="first-slide" src="https://process.filestackapi.com/collage=files:[uP0h60oTCiC0g3vXrksg,dHjJM1MlTCudMl27Y5tw,esrFo92DTxe7IZxisakl,m9hZIDMQU2AqfEjTxAfJ,bLGYDIyhSXiGwRhUfZCT],width:1450,height:700,fit:crop/N9o4vJe2Q9m4d37T8IQC" alt="First slide">
        <div class="container">
          <div class="carousel-caption">
            <h1>Posterstack</h1>
            <p>Upload your favorite images and create a collage with Filestack API.</p>
            <p><a class="btn btn-filestack btn-lg btn-filestack-start" href="./add.html" role="button">Upload Pictures</a></p>
          </div>
        </div>
      </div>
      <div class="item active">
        <img class="second-slide" src="https://process.filestackapi.com/collage=files:[7Sk0GtgkTsuybSuPt0YY,9LxMN0HSgC4UGGREDq1W,I0sgXTA0QoiBoSqkfsOa,BY1XS8WQhCIcdMbSBO9A],width:1450,height:700,fit:crop/CtKkhR8tQqoIeoAJuLVg" alt="Second slide">
        <div class="container">
          <div class="carousel-caption">
            <h1>Posterstack</h1>
            <p>Upload your favorite images and create a collage with Filestack API.</p>
            <p><a class="btn btn-filestack btn-lg btn-filestack-start" href="./add.html" role="button">Upload Pictures</a></p>
          </div>
        </div>
      </div>
      <div class="item">
        <img class="third-slide" src="https://process.filestackapi.com/collage=files:[fMmXZvlAQW6YCYfReNva,iY1bMU5LT8iVSefKbzMu,HqfF9mnDTtOz5LdYdk7L,gDxxEuSYQieo1XtcJQJ1,J0cWZIDQgmdFGn1SfNQ5],width:1450,height:700,fit:crop/7JT3S9A8SAex8RKzswx0" alt="Third slide">
        <div class="container">
          <div class="carousel-caption">
            <h1>Posterstack</h1>
            <p>Upload your favorite images and create a collage with Filestack API.</p>
            <p><a class="btn btn-filestack btn-lg btn-filestack-start" href="./add.html" role="button">Upload Pictures</a></p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="poster-list-parent">
    <div class="container marketing" id="poster-list">
    </div>
  </div>
  <footer class="text-center">
    <p>Â© 2016 Samuele Zaza, <a href="https://www.filestack.com/">Filestack</a> Tech Evangelist.
  </p>
</footer>
<script   src="./js/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<script src="https://api.filepicker.io/v2/filepicker.js"></script>
<script>
  filepicker.setKey("AfcnFThTU4ebKMjxRMngSz");
 
  var posterHTML = "";
  var exportData = function(url) {
    var options = {
      suggestedFilename: 'myFilestackPoster',
      mimetype: 'image/jpeg',
      services: ['COMPUTER', 'FACEBOOK'],
      openTo: 'COMPUTER'
    };
    filepicker.exportFile(
      url,
      options,
      function(Blob){
        console.log(Blob.url);
      }
    );
  }
  var appendData = function(posters) {
      posters.forEach(function(poster, index){
      var alternate = poster.id % 2 === 0;
      var blockTextClass = 'col-md-7';
      var blockImgClass = 'col-md-5';
      var blockExportClass;
        if(alternate) {
        blockTextClass += ' col-md-push-5';
        blockImgClass += ' col-md-pull-7';
        blockExportClass = 'col-md-offset-9 col-md-1';
      } else {
        blockExportClass = 'col-md-12';
      }
      var element = '<div class="row featurette">' +
        '<div class="' + blockTextClass + '">' +
          '<h2 class="featurette-heading"><span class="text-muted">' + poster.title + '</span></h2>' +
          '<p class="lead">' + poster.description + '</p>' +
        '</div>' +
        '<div class="' + blockImgClass + '">' +
          '<a href="' + poster.url + '" target="_blank"><img class="featurette-image img-responsive center-block" alt="' + poster.title + '" src="' + poster.url + '" alt="First slide" ></a>' +
        '</div>' +
        '<div class="' + blockExportClass + '">' +
          '<button class="btn btn-filestack-export btn-lg" type="button" data-url="' + poster.url + '"><i class="glyphicon glyphicon-share-alt"></i> Export</button>' +
        '</div>' +
      '</div>' +
      '<hr class="featurette-divider">';
      posterHTML += element;
    });
    var posterList = $('#poster-list');
    var parent = posterList.parent();
    parent.append( posterList.detach().append(posterHTML) );
  };
  $(document).ready(function(){
    $.ajax(
        {
          url: "http://localhost:3000/posterstack",
          method: "GET",
          dataType: "json"
        }
      )
      .done(appendData)
      .fail(function(e){ console.log("ERROR: " + e)});
    $('#poster-list-parent').on('click','.btn-filestack-export', function(event){
      event.preventDefault();
      exportData($(this).data('url'));
    });
  });
</script>
</body>
</html>